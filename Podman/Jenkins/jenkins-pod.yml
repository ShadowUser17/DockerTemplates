apiVersion: "v1"
kind: "Pod"
metadata:
    name: "jenkins-pod"

spec:
    restartPolicy: "Never"
    securityContext:
      fsGroup: 1000
      runAsUser: 1000
      runAsGroup: 1000
    volumes:
    - name: "jenkins-storage"
      hostPath:
        path: "./data"
        type: "DirectoryOrCreate"

    containers:
    - name: "jenkins-lts"
      image: "docker.io/jenkins/jenkins:lts"
      volumeMounts:
      - name: "jenkins-storage"
        mountPath: "/var/jenkins_home"
        readOnly: false
      ports:
      - containerPort: 8080
        hostPort: 8080
        protocol: "TCP"
      - containerPort: 50000
        hostPort: 50000
        protocol: "TCP"
