apiVersion: "kustomize.config.k8s.io/v1beta1"
kind: "Kustomization"
namespace: "testing"
resources:
  - "base/thanos-prometheus-access.yml"
  - "base/thanos-prometheus-volume.yml"
  - "base/thanos-prometheus-deploy.yml"
  - "base/thanos-compact-deploy.yml"
  - "base/thanos-receive-volume.yml"
  - "base/thanos-receive-deploy.yml"
  - "base/thanos-store-deploy.yml"
  - "base/thanos-query-deploy.yml"
  - "base/thanos-frontend-deploy.yml"
configMapGenerator:
  - name: "thanos-store-config"
    files: ["config/thanos-store.yml"]
  - name: "thanos-receive-hashring"
    files: ["config/thanos-hashring.json"]
  - name: "thanos-prometheus-config"
    files:
      - "config/prometheus.yml"
      - "config/prometheus-rules.yml"
      - "config/thanos-rules.yml"
      - "config/minio-rules.yml"
images:
  - name: "thanosio/thanos"
    newTag: "v0.32.4"
  - name: "prom/prometheus"
    newTag: "v2.47.1"
labels:
  - pairs:
      app.kubernetes.io/part-of: "monitoring"
      app.kubernetes.io/managed-by: "kustomize"
