apiVersion: "v1"
kind: "ConfigMap"
metadata:
  namespace: "thanos-cluster"
  name: "grafana-datasources"

data:
  prometheus.yml: |-
    apiVersion: 1
    datasources:
      - name: "Prometheus"
        type: "prometheus"
        access: "proxy"
        url: "http://thanos.thanos-cluster.svc:9090"
        jsonData:
          httpMethod: "POST"

  alertmanager.yml: |-
    apiVersion: 1
    datasources:
      - name: "Alertmanager"
        type: "alertmanager"
        url: "http://alertmanager.thanos-cluster.svc:9093"
        access: "proxy"
        jsonData:
          implementation: "prometheus"
