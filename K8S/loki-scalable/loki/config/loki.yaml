auth_enabled: false

server:
  http_listen_address: 0.0.0.0
  grpc_listen_address: 0.0.0.0
  http_listen_port: 3100
  grpc_listen_port: 9095
  log_level: "info"

common:
  path_prefix: "/var/loki"
  replication_factor: 2
  storage:
    s3:
      endpoint: "minio.loki.svc:9000"
      bucketnames: "loki-data"
      access_key_id: "testing"
      secret_access_key: "1qaz!QAZ"
      insecure: true
      s3forcepathstyle: true

memberlist:
  bind_addr: ["0.0.0.0"]
  bind_port: 7946
  join_members:
    - "loki-write.loki.svc:7946"
    - "loki-read.loki.svc:7946"

schema_config:
  configs:
    - from: "2020-05-15"
      object_store: "s3"
      store: "boltdb-shipper"
      schema: "v12"
      index:
        prefix: "index_"
        period: "24h"

storage_config:
  hedging:
    at: "250ms"
    up_to: 3
    max_per_second: 20

limits_config:
  reject_old_samples: false
  enforce_metric_name: false
  split_queries_by_interval: "15m"
  max_cache_freshness_per_query: "10m"

query_range:
  align_queries_with_step: true

ruler:
  storage:
    type: "s3"
    s3:
      bucketnames: "loki-ruler"
      insecure: true
      s3forcepathstyle: true
