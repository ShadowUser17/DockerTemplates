apiVersion: "v1"
kind: "Service"
metadata:
  namespace: "loki"
  name: "loki-read"
spec:
  selector:
    app.kubernetes.io/name: "loki"
    app.kubernetes.io/role: "read"
  ports:
    - targetPort: 3100
      protocol: "TCP"
      port: 3100
      name: "http"

---
apiVersion: "v1"
kind: "Service"
metadata:
  namespace: "loki"
  name: "loki-write"
spec:
  selector:
    app.kubernetes.io/name: "loki"
    app.kubernetes.io/role: "write"
  ports:
    - targetPort: 3100
      protocol: "TCP"
      port: 3100
      name: "http"

---
apiVersion: "v1"
kind: "Service"
metadata:
  namespace: "loki"
  name: "loki-gateway"
spec:
  selector:
    app.kubernetes.io/name: "gateway"
  ports:
    - targetPort: 3100
      protocol: "TCP"
      port: 3100
      name: "http"

---
apiVersion: "v1"
kind: "Service"
metadata:
  namespace: "loki"
  name: "loki-memberlist"
spec:
  selector:
    app.kubernetes.io/name: "loki"
  ports:
    - targetPort: 7946
      protocol: "TCP"
      port: 7946
      name: "join"
