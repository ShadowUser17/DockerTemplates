apiVersion: "kustomize.config.k8s.io/v1beta1"
kind: "Kustomization"
namespace: "testing"
resources:
  - "base/service.yml"
  - "base/access.yml"
  - "base/deploy.yml"
configMapGenerator:
  - name: "prometheus-config"
    files:
      - "config/prometheus.yml"
      - "config/prometheus-rules.yml"
      - "config/nginx-ingress-rules.yml"
      - "config/trivy-operator-rules.yml"
      - "config/flux-rules.yml"
      - "config/loki-rules.yml"
      - "config/promtail-rules.yml"
      - "config/k8s-base-rules.yml"
      - "config/k8s-node-rules.yml"
      - "config/k8s-pod-rules.yml"
images:
  - name: "prom/prometheus"
    newTag: "v2.48.0"
labels:
  - pairs:
      app.kubernetes.io/part-of: "monitoring"
      app.kubernetes.io/managed-by: "kustomize"
